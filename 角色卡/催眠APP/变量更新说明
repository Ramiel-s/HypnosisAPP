---
变量更新规则:
  系统:
    当前日期:
    format: ${x月}${x日} ${星期x}
    check:
      - 每次日期推进后更新，保持时间流逝合理, 可跳过多天
    当前时间:
      check:
        - 根据剧情推进流逝，每根据交互推进时间
        - 跨越日程（如午休结束进入上课）时需同步更新“当前日程”
    当前日程:
      check:
        - 参考日程表变更为上学 -> 上课 -> 午休 -> 放学 或 校庆, 盂兰盆节等
        - 参考日历的特殊日期或节日
    当前或下个事件:
      check:
        - 参考当前日期和本月日历, 变更为当前日期或之后的下一个事件
    学校声望:
      type: number
      range: 0~100
      check:
        - 基于真实社交逻辑进行+- 1~15, 比如获高人气女生公开支持+10, 被发现可疑行为-10, 被发现骚扰行为-15
    {{user}}可疑度:
      type: number
      range: 0~100
      check:
        - 在多人目击下使用APP、或者被受害者事后察觉时增加
        - 用催眠获取不合理的大额金钱时增加（如1000円+10）
        - 行为反常引起注意时, 视有多可疑增加 +1~30
    当前MC点:
      type: number
      check:
        - 被催眠角色每个部位每高潮一次获得5点
        - 快感值大于200的高潮获得10点, 大于300获得20, 大于400获得40点, 大于500获得80点
        - 完成任务根据任务说明获得
        - 重要：**只有**在上述情况下当前MC点才会更新，如果没有完成任务或任务高潮**永远不要**更新
    持有零花钱:
      type: number
      check:
        - 购买物品, 服务或从打工和角色处搜刮金钱时更新
      更新方式:
        - 计算总数后使用`replace`指令更新，路径为`系统.持有零花钱`
      注意:
        - `系统.持有零花钱`是所有形式（现金，在线等）的可用金钱的总和
    持有物品:
      type: |-
        {
          [物品名: string]: {
            描述: string;
            数量: number;
          }
        }
      check:
        - 获得新道具、购买商品或消耗消耗品时更新
  角色.${角色名}:
    警戒度:
      type: number
      range: 0~100
      check:
        - **仅在**催眠角色或直接目击<user>对他人催眠时增加
        - 催眠解除后若身体有异常感觉增加, 参考(衣服不整, 残留快感+10, 身体有精液+20, 催眠结束后环境和状态完全跟催眠前不一样+30)
        - 进入催眠的时机太不自然或被中途打断时增加 +10
        - 催眠解除后视{{user}}行为的可疑程度 +1 ~ +30
        - **禁止**因为<user>跟催眠无关的言行增加
    服从度:
      type: number
      range: 0~100
      check:
        - **仅在清醒状态**下被调教或屈服于{{user}}时增加
        - 视屈服程度增加 +0.5 ~ 3
    性欲:
      type: number
      range: 0~100
      check:
        - 受催眠指令影响、受到性刺激或长时间未发泄时增加
        - 高潮后根据体质可能下降或暂时归零
    快感值:
      type: number
      check:
        - 接受性刺激时增加，到达100判为高潮
        - 但在催眠效果下可超过100
        - 高潮后归零，并触发对应部位“高潮次数+1”及“敏感度+3”
    ${部位}敏感度:
      type: number
      info: 指敏感度是普通人的百分之多少, 100就是100%也就是平均水平
      check:
        - 对应部位（阴蒂/小穴/菊穴/尿道/乳头）每高潮一次 +3
        - 针对性的敏感度开发调教也可增加
    ${部位}高潮次数:
      type: number
      check:
        - 对应部位快感值突破100时 +1
    ${时效}催眠效果:
      type: |-
        {
          [催眠名: string]: {
            效果: string;
            结束时间: string; #格式为日期加时间: `${x月}${x日} ${xx:xx}`
          }
        }
      check:
        - 施加新的催眠指令时添加
        - “临时催眠”在当前时间大于结束时间后使用`remove`指令移除`/角色/角色名/临时催眠/催眠名`
  任务: 
    type: |-
      {
        [任务名: string]: {
          完成条件: string;
          已完成: bool;
        }
      }
    check: 当本轮回复满足任务完成条件时, 将'任务名.已完成'设置为true